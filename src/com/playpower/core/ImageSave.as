/*You are free to use this code within your ownapplications, add-ins, documents etcAlso, if you use this code, please, give me some credit!Company: Amoeba Solution KioskAuthor: Anees MadathilEmail: ask@amoeba.co.in*/package com.playpower.core {		import flash.display.MovieClip;	import flash.display.BitmapData;	import flash.display.Loader;	import flash.utils.ByteArray;	import flash.net.FileReference;	import flash.net.FileFilter;	import flash.events.*;	import flash.net.URLLoader;	import flash.net.URLRequest;	import com.adobe.images.JPGEncoder;		public class ImageSave extends MovieClip 	{				private var imgFile:URLRequest;		private var img:MovieClip;		private var imgLoader:Loader;		private var file:FileReference;				public function ImageSave() 		{		}				private function onLoaded(evt:Event):void 		{			imgLoader.contentLoaderInfo.removeEventListener(Event.COMPLETE, onLoaded);			imgLoader.cacheAsBitmap = true;			addChild(imgLoader);		}				function saveImage(e:MouseEvent):void 		{			var myBitmapData:BitmapData = new BitmapData(imgLoader.width, imgLoader.height);			myBitmapData.draw(imgLoader); 			var jpgEncoder:JPGEncoder = new JPGEncoder(80);			var imgByteData:ByteArray = jpgEncoder.encode(myBitmapData);			file = new FileReference();			//file.browse(new Array(new FileFilter("Images (*.jpg, *.jpeg)", "*.jpg;*.jpeg")));			file.save(imgByteData, "test.jpg");		}	}}