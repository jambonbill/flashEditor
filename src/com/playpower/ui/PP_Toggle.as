package com.playpower.ui{	import flash.display.Sprite;	import flash.display.Graphics;	import flash.events.Event;	import flash.events.MouseEvent;	import com.carlcalderon.arthropod.Debug;	import com.playpower.core.*;	import com.playpower.events.CustomEvent;	import com.playpower.core.Controller;	public class PP_Toggle extends Sprite	{		private var _controller:Controller;		private var _id:String;		private var _asset:checkbox_button;		private var _label:*;		private var _curVal:Boolean = true;		public function PP_Toggle(id:String, label:*, asset:checkbox_button)		{			_id = id;			_label = label;			_asset = asset;						_controller = Controller.getInstance();						this.addEventListener(Event.ADDED_TO_STAGE, _onAddedToStage, false, 0, true);		}		public function _onAddedToStage($e:Event):void		{			this.removeEventListener(Event.ADDED_TO_STAGE, _onAddedToStage);						this.addChild(_asset);			_asset.buttonMode = true;			_asset.addEventListener(MouseEvent.MOUSE_DOWN, _onBtnDown, false, 0, true);			_asset.addEventListener(MouseEvent.MOUSE_UP, _onBtnUp, false, 0, true);			_asset.addEventListener(MouseEvent.MOUSE_OVER, _onBtnOver, false, 0, true);			_asset.addEventListener(MouseEvent.MOUSE_OUT, _onBtnOff, false, 0, true);			_asset.btn_on.alpha = 1;//_controller.showHexVals ? 1 : 0;						this.addChild(_label);			_label.x = -Math.round((_label.width - _asset.width) / 2);			_label.y = _asset.y + _asset.height + 3;		}				private function _onBtnOver($e:MouseEvent):void		{			if(!_curVal)			{				_asset.btn_on.alpha = 1;			}		}				private function _onBtnOff($e:MouseEvent):void		{			if(!_curVal)			{				_asset.btn_on.alpha = 0;			}		}				private function _onBtnDown($e:MouseEvent):void		{			_asset.btn_on.alpha = 1;		}				private function _onBtnUp($e:MouseEvent):void		{			toggleValue();						dispatchEvent( new CustomEvent(CustomEvent.BUTTON_UP, {id:_id}) );		}				public function toggleValue():void		{			_curVal = !_curVal;						if(!_curVal)			{				_asset.btn_on.alpha = 0;			}			else			{				_asset.btn_on.alpha = 1;			}		}				public function destroy():void		{					}	}}